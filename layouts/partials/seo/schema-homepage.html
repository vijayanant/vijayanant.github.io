{{- if .IsHome }}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "WebSite",
      "name": {{ site.Title | jsonify }},
      "url": {{ site.BaseURL | jsonify }},
      "potentialAction": {
        "@type": "SearchAction",
        "target": {{ printf "%ssearch?q={search_term_string}" site.BaseURL | jsonify }},
        "query-input": "required name=search_term_string"
      }
    },
    {
      "@type": "Person",
      "@id": {{ printf "%s#person" site.BaseURL | jsonify }},
      "name": {{ site.Params.author | default site.Title | jsonify }},
      "url": {{ site.BaseURL | jsonify }},
      "image": {{ site.Params.portrait | absURL | jsonify }},
      "sameAs": [
        {{- range $i, $e := site.Params.social }}
          {{- if $i }},{{- end }}
          {{- $e.url | jsonify }}
        {{- end }}
      ],
      "jobTitle": {{ site.Params.description | jsonify }},
      "worksFor": {
        "@type": "Organization",
        "name": {{ site.Title | jsonify }}
      }
      {{- with site.Params.contactEmail }}
      ,
      "contactPoint": {
        "@type": "ContactPoint",
        "email": {{ . | jsonify }},
        "contactType": "customer service"
      }
      {{- end }}
    }
  ]
}
</script>
{{- end }}